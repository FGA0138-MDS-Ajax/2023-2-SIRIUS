// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

model User {
    id       Int     @id @default(autoincrement())
    email    String  @unique
    name     String?
    password String
}

model Torneio {
    id          String    @id @unique @default(uuid())
    datatorneio DateTime  @default(now())
    participantes ParticipantesTorneio[]
    rodada      Rodadas[]
}

model ParticipantesTorneio {
    id        String   @id @unique @default(uuid())
    torneio   Torneio  @relation(fields: [torneioId], references: [id])
    torneioId String   @unique
    participantestorneio Participantes[]
}

model Rodadas {
    id        String   @id @default(uuid())
    torneio   Torneio  @relation(fields: [torneioId], references: [id])
    torneioId String   @unique
    grupo     Grupos[]
}

model Grupos {
    id           String          @id @default(uuid())
    grupos       String
    rodada       Rodadas         @relation(fields: [idRodada], references: [id])
    idRodada     String
    participantes Participantes[]
}

model Participantes {
    id          String  @id @default(uuid())
    teamName    String  
    inGameName  String
    checkedInAt String
    idDiscord   String
    winner      Boolean @default(false)
    email       String
    grupo       Grupos  @relation(fields: [grupoId], references: [id])
    grupoId     String
    participantestorneio ParticipantesTorneio @relation(fields: [participantestorneioId], references: [id])
    participantestorneioId  String
}
